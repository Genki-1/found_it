<div class="conteiner">
	<div class="row">
		<div class="col-xs-10 col-xs-offset-1">
			<div class="col-xs-7">
				<h2>ユーザー情報変更</h2>
				<%= form_for @user, url: user_path do |f| %>
				<table>
					<tbody>
						<tr>
							<td>
								<h3>画像</h3>
									<%= attachment_image_tag @recipe, :image, fallback: "no_image.jpg", id: "file-preview" %>
									<%= f.attachment_field :image, class: "btn  item_attachment_field", id: "image_select"%>
									<label for="image_select" class="btn item_attachment_field" style="display: block;">画像選択</label>
							</td>
							<td><%= f.text_field :name, class: 'form-control' %>
							</td>
						</tr>
						<tr>
							<td><%= f.text_area :introduction, class: 'form-control' %></td>
						</tr>
						<tr>
							<td><%= f.submit "変更" ,class: "btn btn-primary　btn-lg" %></td>
						</tr>
					</tbody>
				</table>
				<% end %>
			</div>
		</div>
	</div>
</div>
<!-- 画像選択した際に、選択した画像を表示させるjavascript -->
<script>
	document.getElementById('image_select').addEventListener('change', function (e) {
    // 1枚だけ表示する
    var file = e.target.files[0];

    // ファイルのブラウザ上でのURLを取得する
    var blobUrl = window.URL.createObjectURL(file);

    // img要素に表示
    var img = document.getElementById('file-preview');
    img.src = blobUrl;
});
</script>